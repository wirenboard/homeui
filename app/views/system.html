
<h1 class="page-header" translate>{{'system.title'}}</h1>

<div ng-controller="CloudWidgetCtrl">
    <div class="panel panel-default" ng-if="cloudAvailable">
        <div class="panel-heading">
            <h3 class="panel-title"><i class="glyphicon glyphicon-cloud"></i> {{'system.cloud-status.title' | translate}}</h3>
        </div>
        <div class="panel-body">
            <div ng-show="cloudOk && !activationLink">
                <div class="alert alert-success">
                    <i class="glyphicon glyphicon-ok"></i> {{'system.cloud-status.status-ok' | translate}}
                </div>
                <a href="{{cloudLink}}" target="_blank" class="btn btn-success btn-lg">
                    <i class="glyphicon glyphicon-cloud"></i> {{'system.cloud-status.goto-cloud' | translate}}
                </a>
            </div>
            <div class="alert alert-danger" ng-show="!cloudOk">
                <i class="glyphicon glyphicon-remove"></i> {{'system.cloud-status.status-error' | translate}}: {{cloudError}}
            </div>
            <div class="alert alert-info" ng-show="activationLink && cloudOk">
                {{'system.cloud-status.activation-link-preamble' | translate}} <a href="{{activationLink}}" target="_blank" class="alert-link">{{'system.cloud-status.activation-link' | translate}}</a>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default" ng-controller="FirmwareCtrl">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="glyphicon glyphicon-upload"></i> {{'system.update.title' | translate}}</h3>
    </div>
    <div class="panel-body">
    <span ng-show="!canUpload" class="label label-warning" translate> {{'system.errors.unavailable'}}</span>
        <button type="file" class="btn btn-success btn-lg"
                ng-show="canUpload && !(running || uploading)"
                ngf-select="upload($file)"
                ngf-max-size="300MB"
                ngf-pattern="'.fit,.*'" translate>{{'system.buttons.select'}}</button>
        <div class="progress" ng-show="running || uploading">
            <div class="progress-bar progress-bar-{{stateType}}"
                 ng-style="{'width':progress + '%'};">
                <span translate>{{stateMsg}}</span>
            </div>
        </div>
        <pre id="firmwareLog" class="well well-sm pre-scrollable" ng-show="running"></pre>
        <button class="btn btn-lg btn-default" ng-show="done" ng-click="doneClick()" translate>{{doneLabel}}</button>
    </div>
</div>


<div class="panel panel-default" ng-controller="DiagnosticCtrl">
    <div class="panel-heading">
        <h3 class="panel-title">
            <i class="glyphicon glyphicon-download"></i> {{'collector.title' | translate}}
        </h3>
    </div>
    <div class="panel-body">

        <div class="col-xs-12 spinner" ng-show="!btnVisible && !started">
            <span class="spinner-loader" translate>{{'collector.states.checking'}}</span>
        </div>

        <button type="button" class="btn btn-success btn-lg pull-left" ng-click="btnMethod()" ng-disabled="!btnEnabled"
            ng-show="btnVisible" translate>
            {{ text }}
        </button>
        <div class="col-xs-1" ng-show="collecting">
            <span class="spinner-loader"></span>
        </div>

        <div ng-show="pathMessage">
            <span> <span translate>{{'collector.errors.unavailableToDownload'}}</span> <code> {{path}} </code> </span>
        </div>

    </div>
</div>
